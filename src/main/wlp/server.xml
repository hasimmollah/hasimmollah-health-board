<server>
	<featureManager>
		<feature>ssl-1.0</feature>
		<feature>webProfile-7.0</feature>
		<feature>monitor-1.0</feature>
		<feature>requestTiming-1.0</feature>
	</featureManager>
	
	<webContainer disablexPoweredBy="true" />

	<httpDispatcher enableWelcomePage="false" />

	<sslOptions id="memberSSLOptions" sslRef="defaultSSLConfig" />

	<sslDefault sslRef="defaultSSLConfig" />

	<ssl id="defaultSSLConfig" securityLevel="HIGH"
		clientAuthenticationSupported="true" sslProtocol="TLSv1.2"
		keyStoreRef="defaultKeyStore" trustStoreRef="defaultTrustStore" />

	<keyStore password="${default-key-store-password}" location="${default-key-store}"
		id="defaultKeyStore" />

	<keyStore password="${default-trust-store-password}" location="${default-trust-store}"
		id="defaultTrustStore" />


	<httpEndpoint id="defaultHttpEndpoint" host="*" httpPort="${http-port}"
		httpsPort="${https-port}" sslOptionsRef="memberSSLOptions">
		<tcpOptions> soReuseAddr="true" </tcpOptions>
		<httpOptions readTimeout="5s" writeTimeout="5s"
			removeServerHeader="true" />
		<sslOptions> sslRef="defaultSSLConfig" </sslOptions>
	</httpEndpoint>

	<logging traceSpecification="*=info" maxFiles="50" maxFileSize="20"
		logDirectory="${log-dir}" copySystemStreams="${copy-system-streams}"
		consoleLogLevel="${console-log-level}" />

	<requestTiming sampleRate="1" slowRequestThreshold="10s"
		hungRequestThreshold="50s" includeContextInfo="true" />

	<applicationMonitor dropinsEnabled="false" />

	<httpSession maxInMemorySessionCount="750" cookieSecure="true"
		allowOverflow="false" />

	<webAppSecurity ssoRequiresSSL="true" />

	<pluginConfiguration connectTimeout="4"
		serverIOTimeout="100" />

	<application name="${app-name}" context-root="${context-root}${app-version}"
		location="${app-location}" type="war" />

<dataSource id="PostGresDataSourceSandbox" jndiName="jdbc/PostGres-sandbox"
		type="javax.sql.XADataSource">
		<jdbcDriver
			javax.sql.XADataSource="org.postgresql.xa.PGXADataSource"
			libraryRef="PostGresJDBCLib" />
		<properties databaseName="${postgresDbName}" serverName="${postgresDbHost}"
			password="${postgresDbPassword}" portNumber="${postgresDbPort}" user="${postgresDbUser}" />
	</dataSource>
	<library id="PostGresJDBCLib">
		<fileset dir="${server.config.dir}/lib"
			includes="postgresql-42.2.2.jar" />
	</library>
	<dataSource
    id="H2DataSourceSandbox"
    jndiName="jdbc/h2-sandbox"
    type="javax.sql.ConnectionPoolDataSource">
    <jdbcDriver
        javax.sql.ConnectionPoolDataSource="org.h2.jdbcx.JdbcDataSource"
        javax.sql.DataSource="org.h2.jdbcx.JdbcDataSource"
        javax.sql.XADataSource="org.h2.jdbcx.JdbcDataSource"
        libraryRef="SharedLibrary_H2"/>
    <properties
        URL="${h2Dburl}"
        databaseName="${h2DbName}"
        user="${h2DbUser}"
        password="${h2DbPassword}" />
   </dataSource>

<library id="SharedLibrary_H2">
    <fileset dir="${server.config.dir}/lib" includes="h2-1.4.199.jar"/>
</library>
</server>
